{"version":3,"sources":["components/Header.js","components/Nav.js","constants.js","utils.js","components/Line.js","components/Lines.js","components/GameAnnotation.js","components/DataPoint.js","components/DataPoints.js","components/NarrativeAnnotations.js","narrativeAnnotations.js","components/Chart.js","components/Controls.js","components/Legend.js","components/Graph.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","Nav","teamNames","teamSelectOptions","Object","entries","map","value","label","statSelectOptions","monthNames","maxDateOptions","playoffOrder","playoffIdentifiers","getStatAttribute","stat","datum","teamPreElo","teamPreRaptor","teamScore","console","error","getMonthLabel","date","newDate","Date","year","getFullYear","month","getUTCMonth","Line","pathData","selectedTeam","team","updateSelectedTeam","isSelected","useState","isHovering","setIsHovering","labelX","setLabelX","labelY","setLabelY","useEffect","pathDataPoints","split","length","x","y","Number","fill","trim","d","strokeWidth","onClick","onMouseOver","onMouseLeave","transform","Lines","data","dataLineFunc","id","games","GameAnnotation","chartHeight","chartWidth","gameData","gRef","useRef","dx","dy","Math","min","max","opponent","opponentScore","wins","losses","wonGame","annotations","note","title","bgPadding","color","makeAnnotations","annotation","editMode","type","annotationLabel","current","d3","call","ref","DataPoint","narrativeMode","scaleX","scaleY","onMouseEnter","cx","cy","r","DataPoints","game","NarrativeAnnotations","elo","regularSeasonAnnotations","dimensions","Chart","maxDate","rawData","showOnlyPlayoffs","maxHeight","minWidth","margin","svgRef","bounds","setBounds","width","setWidth","height","setHeight","displayData","setDisplayData","narrativeAnnotationData","setNarrativeAnnotationData","setScaleX","setScaleY","setDataLineFunc","selectedLineData","setSelectedLineData","handleResize","newWidth","parentElement","clientWidth","newHeight","window","addEventListener","removeEventListener","newBounds","reduce","acc","elo1_pre","elo2_pre","elo1_post","elo2_post","raptor1_pre","raptor2_pre","score1","score2","eloMin","eloMax","raptorMin","raptorMax","scoreMin","scoreMax","getMetricBounds","newSvg","select","attr","dateRangeData","filter","playoff","xDomain","lastDate","setDate","getDate","xScale","domain","range","xAxis","ticks","tickSize","remove","xAxisGroup","selectAll","yScale","getLower","val","getUpper","getChartBounds","yAxis","tickPadding","yAxisGroup","newDataLineFunc","gameWithHighestPostElo","values","highestEloGame","lastGame","teamPostElo","teamData","selectedTeamData","orderedData","teamId","teamGames","concat","Controls","playoffRound","selectedStat","updateMaxDate","updateNarrativeMode","updatePlayoffRound","updateSelectedStat","updateShowOnlyPlayoffs","disabled","indexOf","prevMonthIndex","onChange","target","option","nextMonthIndex","Legend","Graph","setNarrativeMode","setSelectedStat","setSelectedTeam","setMaxDate","setShowOnlyPlayoffs","setPlayoffRound","seasonByTeam","setSeasonByTeam","byTeam","keys","teamSeasonMetrics","teamAbbrev","endingMonth","season","team1","gameStats","teamRaptorProb","raptor_prob1","team2","opponentPreElo","opponentPostElo","opponentPreRaptor","opponentRaptorProb","raptor_prob2","getTeamMetricsForSeason","showPlayoffs","newTeam","App","setData","setError","getData","file","a","csv","latestEloData","e","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10a05c5e.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = (props) => {\n    return (\n        <header\n            className=\"max-w-screen-2xl md:mb-12 w-full py-2 mx-auto mb-8 space-y-8 text-center\"\n        >\n            <h1 className=\"md:text-3xl lg:text-4xl text-xl\">2021 National Basketball Association Metrics</h1>\n\n            <section className=\"p-8 mx-auto space-y-4 border rounded shadow\">\n                TODO: Cite data source\n                TODO: key\n            </section>\n        </header>\n    )\n}\n\nexport default Header;\n","import React from 'react';\n\nconst Nav = (props) => {\n    return (\n        <nav></nav>\n    )\n}\n\nexport default Nav;\n","const NBA_ELO_CSV = 'https://projects.fivethirtyeight.com/nba-model/nba_elo.csv';\nconst NBA_ELO_LATEST_CSV = 'https://projects.fivethirtyeight.com/nba-model/nba_elo_latest.csv';\n\nconst teamNames = {\n    'ATL': 'Atlanta Hawks',\n    'BRK': 'Brooklyn Nets',\n    'BOS': 'Boston Celtics',\n    'CHO': 'Charlotte Hornets',\n    'CHI': 'Chicago Bulls',\n    'CLE': 'Cleveland Cavaliers',\n    'DAL': 'Dallas Mavericks',\n    'DEN': 'Denver Nuggets',\n    'DET': 'Detroit Pistons',\n    'GSW': 'Golden State Warriors',\n    'HOU': 'Houston Rockets',\n    'IND': 'Indiana Pacers',\n    'LAC': 'Los Angeles Clippers',\n    'LAL': 'Los Angeles Lakers',\n    'MEM': 'Memphis Grizzlies',\n    'MIA': 'Miami Heat',\n    'MIL': 'Milwaukee Bucks',\n    'MIN': 'Minnesota Timberwolves',\n    'NOP': 'New Orleans Pelicans',\n    'NYK': 'New York Knicks',\n    'OKC': 'Oklahoma City Thunder',\n    'ORL': 'Orlando Magic',\n    'PHI': 'Philadelphia 76ers',\n    'PHO': 'Phoenix Suns',\n    'POR': 'Portland Trail Blazers',\n    'SAC': 'Sacramento Kings',\n    'SAS': 'San Antonio Spurs',\n    'TOR': 'Toronto Raptors',\n    'UTA': 'Utah Jazz',\n    'WAS': 'Washington Wizards',\n};\n\nconst teamSelectOptions = Object.entries(teamNames).map(([id, fullName]) => (\n    { value: id, label: fullName }\n))\n\nconst statSelectOptions = [\n    { value: 'elo', label: 'ELO' },\n    { value: 'raptor', label: 'Raptor' },\n    { value: 'score', label: 'Score' },\n];\n\nconst monthNames = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\nconst maxDateOptions = [\n    '2021-01',\n    '2021-02',\n    '2021-03',\n    '2021-04',\n    '2021-05',\n    '2021-06',\n    '2021-07',\n    '2021-08',\n];\n\nconst playoffOrder = ['p', 'q', 's', 'c', 'f'];\nconst playoffIdentifiers = {\n    'p': 'Play-In',\n    'q': 'Quarter Finals',\n    's': 'Semi Finals',\n    'c': 'Conference Finals',\n    'f': 'Finals'\n}\n\nexport {\n    monthNames,\n    NBA_ELO_CSV,\n    NBA_ELO_LATEST_CSV,\n    playoffIdentifiers,\n    playoffOrder,\n    statSelectOptions,\n    teamNames,\n    teamSelectOptions,\n    maxDateOptions,\n}\n","import { monthNames, playoffOrder } from './constants';\n\nconst getTeamMetricsForSeason = (\n    data,\n    teamAbbrev,\n    endingMonth = null,\n    showOnlyPlayoffs = false,\n    playoffRound = null,\n    season = '2021'\n) => {\n    return data.reduce((acc, game) => {\n        if (game.season !== season) {\n            return acc;\n        }\n\n        if (showOnlyPlayoffs\n            && (!game.playoff\n                || playoffOrder.indexOf(game.playoff) > playoffOrder.indexOf(playoffRound)\n            )\n        ) {\n            return acc;\n        }\n\n        if (!showOnlyPlayoffs && endingMonth && !!endingMonth) {\n            // ex. 2021-01\n            const endDate = new Date(endingMonth);\n            const gameDate = new Date(game.date);\n\n            if (endDate < gameDate) {\n                return acc;\n            }\n        }\n\n        const lastGame = acc.length > 0\n            ? acc[acc.length - 1]\n            : { wins: 0, losses: 0 };\n\n        if (game.team1 === teamAbbrev) {\n            const teamScore = Number(game.score1);\n            const opponentScore = Number(game.score2);\n\n            const gameStats = {\n                date: game.date,\n                playoff: game.playoff,\n                team: game.team1,\n                teamScore,\n                teamPreElo: game.elo1_pre,\n                teamPostElo: game.elo1_post,\n                teamPreRaptor: game.raptor1_pre,\n                teamRaptorProb: game.raptor_prob1,\n                opponent: game.team2,\n                opponentScore,\n                opponentPreElo: game.elo2_pre,\n                opponentPostElo: game.elo2_post,\n                opponentPreRaptor: game.raptor2_pre,\n                opponentRaptorProb: game.raptor_prob2,\n                wins: teamScore > opponentScore ? lastGame.wins + 1 : lastGame.wins,\n                losses: teamScore < opponentScore ? lastGame.losses + 1 : lastGame.losses,\n            }\n\n            return acc.concat(gameStats);\n        }\n\n        if (game.team2 === teamAbbrev) {\n            const teamScore = Number(game.score2);\n            const opponentScore = Number(game.score1);\n\n            const gameStats = {\n                date: game.date,\n                playoff: game.playoff,\n                team: game.team2,\n                teamScore,\n                teamPreElo: game.elo2_pre,\n                teamPostElo: game.elo2_post,\n                teamPreRaptor: game.raptor2_pre,\n                teamRaptorProb: game.raptor_prob2,\n                opponent: game.team1,\n                opponentScore,\n                opponentPreElo: game.elo1_pre,\n                opponentPostElo: game.elo1_post,\n                opponentPreRaptor: game.raptor1_pre,\n                opponentRaptorProb: game.raptor_prob1,\n                wins: teamScore > opponentScore ? lastGame.wins + 1 : lastGame.wins,\n                losses: teamScore < opponentScore ? lastGame.losses + 1 : lastGame.losses,\n            }\n\n            return acc.concat(gameStats);\n        }\n\n        return acc;\n    }, [])\n}\n\nconst getMetricBounds = (rawData) => {\n    return rawData.reduce((acc, game) => {\n        const {\n            elo1_pre,\n            elo2_pre,\n            elo1_post,\n            elo2_post,\n            raptor1_pre,\n            raptor2_pre,\n            score1,\n            score2\n        } = game;\n\n        return {\n            eloMin: Math.min(acc.eloMin, elo1_pre, elo2_pre, elo1_post, elo2_post),\n            eloMax: Math.max(acc.eloMax, elo1_pre, elo2_pre, elo1_post, elo2_post),\n            raptorMin: Math.min(acc.raptorMin, raptor1_pre, raptor2_pre),\n            raptorMax: Math.max(acc.raptorMax, raptor1_pre, raptor2_pre),\n            scoreMin: Math.min(acc.scoreMin, score1, score2),\n            scoreMax: Math.max(acc.scoreMax, score1, score2),\n        }\n    }, {\n        eloMin: 99999,\n        eloMax: 0,\n        raptorMin: 99999,\n        raptorMax: 0,\n        scoreMin: 99999,\n        scoreMax: 0,\n    })\n}\n\nconst getTeamMetricBounds = (rawData) => {\n    return rawData.reduce((acc, game) => {\n        const {\n            teamPreElo,\n            teamPostElo,\n            teamPreRaptor,\n            teamScore,\n        } = game;\n\n        return {\n            eloMin: Math.min(acc.eloMin, teamPreElo, teamPostElo),\n            eloMax: Math.max(acc.eloMax, teamPreElo, teamPostElo),\n            raptorMin: Math.min(acc.raptorMin, teamPreRaptor),\n            raptorMax: Math.max(acc.raptorMax, teamPreRaptor),\n            scoreMin: Math.min(acc.scoreMin, teamScore),\n            scoreMax: Math.max(acc.scoreMax, teamScore),\n        }\n    }, {\n        eloMin: 99999,\n        eloMax: 0,\n        raptorMin: 99999,\n        raptorMax: 0,\n        scoreMin: 99999,\n        scoreMax: 0,\n    })\n}\n\nconst getStatAttribute = (stat, datum) => {\n    switch (stat) {\n        case 'elo':\n            return datum.teamPreElo;\n        case 'raptor':\n            return datum.teamPreRaptor;\n        case 'score':\n            return datum.teamScore;\n        default:\n            console.error('Unrecognized statistic category:', stat);\n            return null\n    }\n}\n\nconst getMonthLabel = (date) => {\n    const newDate = new Date(date);\n\n    const year = newDate.getFullYear();\n    const month = monthNames[newDate.getUTCMonth()];\n\n    return `${month} ${year}`\n}\n\nexport {\n    getMetricBounds,\n    getMonthLabel,\n    getStatAttribute,\n    getTeamMetricBounds,\n    getTeamMetricsForSeason,\n}\n","import React, { useEffect, useState } from 'react';\n\nconst Line = (props) => {\n    const {\n        pathData,\n        selectedTeam,\n        team,\n        updateSelectedTeam,\n    } = props;\n\n    const isSelected = team === selectedTeam;\n\n    const [isHovering, setIsHovering] = useState(false);\n\n    const [labelX, setLabelX] = useState();\n    const [labelY, setLabelY] = useState();\n\n    useEffect(() => {\n        if ((isSelected || isHovering)) {\n            const pathDataPoints = pathData.split('L');\n            const [x, y] = pathDataPoints[pathDataPoints.length - 1].split(',');\n\n            setLabelX(Number(x) + 12);\n            setLabelY(Number(y) + 6);\n        }\n    }, [isHovering, isSelected, pathData]);\n\n    return (\n        <>\n            <path\n                fill=\"none\"\n                className={`\n                    stroke-current cursor-pointer\n                    transition-all ease-in-out\n                    ${isSelected\n                        ? 'text-gray-600'\n                        : isHovering\n                            ? 'text-purple-500'\n                            : 'text-gray-200'}\n                `.trim()}\n                d={pathData}\n                strokeWidth={isSelected || isHovering ? 6 : 2}\n                onClick={() => updateSelectedTeam(team)}\n                onMouseOver={() => setIsHovering(true)}\n                onMouseLeave={() => setIsHovering(false)}\n            ></path>\n\n            {(isSelected || isHovering)\n                && labelX && labelY && (\n                    <text\n                        className={`\n                            text-base\n                            ${isSelected ? 'text-black' : 'text-purple-800'}\n                        `.trim()}\n                        transform={`translate(${labelX}, ${labelY})`}\n                    >{team}</text>\n                )\n            }\n        </>\n    )\n}\n\nexport default Line;\n","import React from 'react';\n\nimport Line from './Line';\n\nconst Lines = (props) => {\n    const {\n        data,\n        selectedTeam,\n        dataLineFunc,\n        updateSelectedTeam,\n    } = props;\n\n    return (\n        <g className=\"w-full h-full\" id=\"data-lines-wrapper\">\n            { data && data.map(({ team, games }) => (\n                games && games.length && (\n                    <Line\n                        key={`line-${team}`}\n                        pathData={dataLineFunc(games)}\n                        selectedTeam={selectedTeam}\n                        team={team}\n                        updateSelectedTeam={updateSelectedTeam}\n                    />\n                )\n            ))}\n        </g>\n    );\n}\n\nexport default Lines;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport * as d3 from 'd3';\nimport { annotationLabel, annotation } from 'd3-svg-annotation';\n\nconst GameAnnotation = (props) => {\n    const {\n        chartHeight,\n        chartWidth,\n        x,\n        y,\n        gameData,\n    } = props;\n\n    const gRef = useRef();\n\n    const dx = (x + 200) < chartWidth\n        ? 50\n        : -50;\n    const dy = y < (chartHeight / 2)\n        ? Math.min(100, chartHeight - y - 40)\n        : Math.max(-100, - y + 40);\n\n    const { team, teamScore, opponent, opponentScore, wins, losses } = gameData || {};\n    const wonGame = teamScore > opponentScore;\n    const label = wonGame\n        ? `${team} improves to ${wins} - ${losses}`\n        : `${team} slides to ${wins} - ${losses}`\n\n    const annotations = [{\n        x, y, dy, dx,\n        note: {\n            label,\n            title: `${wonGame ? 'WIN against' : 'LOSS to'} ${opponent} (${teamScore} - ${opponentScore})`,\n            bgPadding: 20,\n        },\n        color: wonGame ? '#10B981' : '#EF4444',\n    }]\n\n    const makeAnnotations = annotation()\n        .editMode(true)\n        .type(annotationLabel)\n        .annotations(annotations);\n\n    useEffect(() => {\n        if (gRef && gRef.current) {\n            d3.select(gRef.current).call(makeAnnotations);\n        }\n    }, [makeAnnotations, gRef]);\n\n    return (\n        <g\n            id=\"annotations-wrapper\" className=\"annotation-group\"\n            ref={gRef}\n        />\n    );\n}\n\nexport default GameAnnotation;\n","import React, { useState } from 'react';\n\nimport { getStatAttribute } from '../utils';\nimport GameAnnotation from './GameAnnotation';\n\nconst DataPoint = (props) => {\n    const {\n        chartHeight,\n        chartWidth,\n        gameData,\n        narrativeMode,\n        scaleX,\n        scaleY,\n        stat,\n    } = props;\n\n    const x = scaleX(new Date(gameData.date));\n    const y = scaleY(getStatAttribute(stat, gameData));\n\n    const [isHovering, setIsHovering] = useState(false);\n\n    const wonGame = gameData.teamScore > gameData.opponentScore;\n\n    return (\n        <g\n            onMouseEnter={() => setIsHovering(true)}\n            onMouseLeave={() => setIsHovering(false)}\n        >\n            {isHovering && !narrativeMode && (\n                <GameAnnotation\n                    chartHeight={chartHeight}\n                    chartWidth={chartWidth}\n                    x={x}\n                    y={y}\n                    gameData={gameData}\n                />\n            )}\n\n            <circle\n                className={`${wonGame ? 'text-green-500' : 'text-red-500'} cursor-pointer fill-current animate-pulse`}\n                cx={x}\n                cy={y}\n                r={7}\n            ></circle>\n\n            <circle\n                className=\"text-white cursor-pointer fill-current\"\n                cx={x}\n                cy={y}\n                r={5}\n            ></circle>\n\n            { gameData.teamScore > gameData.opponentScore && (\n                <circle\n                    className={`${wonGame ? 'text-green-500' : 'text-red-500'} animate-pulse cursor-pointer fill-current`}\n                    cx={x}\n                    cy={y}\n                    r={3}\n                ></circle>\n            )}\n        </g>\n    )\n}\n\nexport default DataPoint;\n","import React from 'react';\n\nimport DataPoint from './DataPoint';\n\nconst DataPoints = (props) => {\n    const {\n        chartHeight,\n        chartWidth,\n        data,\n        narrativeMode,\n        scaleX,\n        scaleY,\n        stat,\n    } = props;\n\n    return (\n        <g className=\"w-full h-full\" id=\"data-points-wrapper\">\n            {data && data.map((game) => (\n                <DataPoint\n                    key={`game-data-${game.date}`}\n                    chartHeight={chartHeight}\n                    chartWidth={chartWidth}\n                    gameData={game}\n                    narrativeMode={narrativeMode}\n                    scaleX={scaleX}\n                    scaleY={scaleY}\n                    stat={stat}\n                />\n            ))}\n        </g>\n    )\n}\n\nexport default DataPoints;\n","import React, { useEffect, useRef } from 'react';\n\nimport * as d3 from 'd3';\nimport { annotationLabel, annotation } from 'd3-svg-annotation';\n\nconst NarrativeAnnotations = (props) => {\n    const {\n        gameData,\n        scaleX,\n        scaleY,\n    } = props;\n\n    const gRef = useRef();\n\n    const annotations = gameData.map(game => {\n        const { date, elo, title, label, dx, dy } = game;\n\n        return {\n            x: scaleX(new Date(date)),\n            y: scaleY(elo),\n            dx,\n            dy,\n            note: { label, title },\n            color: 'black'\n        }\n    });\n\n    const makeAnnotations = annotation()\n        .editMode(true)\n        .type(annotationLabel)\n        .annotations(annotations);\n\n    useEffect(() => {\n        if (gRef && gRef.current) {\n            d3.select(gRef.current).call(makeAnnotations);\n        }\n    }, [makeAnnotations, gRef]);\n\n    return (\n        <g\n            id=\"annotations-wrapper\" className=\"annotation-group\"\n            ref={gRef}\n        />\n    );\n}\n\nexport default NarrativeAnnotations;\n","const regularSeasonAnnotations = [\n    {\n        // First: within first month of play, the LA Lakers are the dominant team in the league\n        team: 'LAL',\n        date: '2021-01-01',\n        elo: 1648.13510045006,\n        title: 'Lakers Continue Dominance',\n        label: 'The LA Lakers picked off right where they left off after winning the championship last season with the ',\n        dx: 100,\n        dy: 100,\n    },\n    {\n        // Utah Jazz: 20-1 run, best record in the league at 24-5\n        team: 'UTA',\n        date: '2021-02-17',\n        elo: 1693.71843214995,\n        title: 'Utah Jazz Shine',\n        label: 'The Utah Jazz go on a 20-1 run to become the undisputed best team in the NBA early on in the season.',\n        dx: 100,\n        dy: 100,\n    },\n    {\n        // 2021-05-16: playoffs start, Jazz are most dominant team in the league, with a record of 52-20\n        team: 'UTA',\n        date: '2021-05-16',\n        elo: 1675.05489975847,\n        title: 'End of Regular Season',\n        label: 'The Utah Jazz finish the regular season with the best record in the NBA (52 - 20) and the first seed in the Western Conference.',\n        dx: 100,\n        dy: 100,\n    }\n]\n\nconst playoffsAnnotations = [\n    {\n        // 2021-05-22: First play-in tournament, Memphis Grizzlies upset 8th seed GSW to get into playoffs\n    },\n    {\n        // 2021-06-01: Brooklyn defeats Boston 4-1, emerging as favorites in the east\n    },\n    {\n        // 2021-06-01: Brooklyn defeats Boston 4-1, emerging as favorites in the east\n    },\n    {\n        // 2021-06-18: Utah Jazz lose 4 straight to Clippers, exit early\n    },\n    {\n        // 2021-06-19: Bucks win a pivotal game 7 against the high powered Nets\n    },\n    {\n        // 2021-06-20: Atlanta upset first seed 76ers in game 7\n    },\n    {\n        // 2021-07-08: Phoenix on a roll, looks to be heavy favorites for championship\n    },\n    {\n        // 2021-07-20: Bucks cap off 4-0 run to win championships over suns\n    }\n];\n\nexport {\n    regularSeasonAnnotations,\n    playoffsAnnotations,\n}","import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\n\nimport { getMetricBounds, getStatAttribute } from '../utils';\nimport Lines from './Lines';\nimport DataPoints from './DataPoints';\nimport NarrativeAnnotations from './NarrativeAnnotations';\n\nimport { regularSeasonAnnotations, playoffsAnnotations } from '../narrativeAnnotations';\n\nconst dimensions = {\n    maxHeight: 800,\n    minWidth: 800,\n    margin: 64,\n}\n\nconst getChartBounds = (stat, bounds) => {\n    const getLower = val => 0.99 * Number(val);\n    const getUpper = val => 1.02 * Number(val);\n\n    switch (stat) {\n        case 'elo':\n            return [getLower(bounds.eloMin), getUpper(bounds.eloMax)];\n        case 'raptor':\n            return [getLower(bounds.raptorMin), getUpper(bounds.raptorMax)];\n        case 'score':\n            return [getLower(bounds.scoreMin), getUpper(bounds.scoreMax)];\n        default:\n            console.error('No bounds found for stat:', stat);\n            return [0, 0]\n    }\n}\n\nconst Chart = (props) => {\n    const {\n        data,\n        maxDate,\n        narrativeMode,\n        rawData,\n        selectedTeam,\n        showOnlyPlayoffs,\n        stat,\n        updateSelectedTeam,\n    } = props;\n\n    const { maxHeight, minWidth, margin } = dimensions;\n\n    const svgRef = useRef();\n\n    const [bounds, setBounds] = useState({});\n    const [width, setWidth] = useState();\n    const [height, setHeight] = useState();\n    const [displayData, setDisplayData] = useState();\n    const [narrativeAnnotationData, setNarrativeAnnotationData] = useState();\n\n    const [scaleX, setScaleX] = useState(() => () => {});\n    const [scaleY, setScaleY] = useState(() => () => {});\n    const [dataLineFunc, setDataLineFunc] = useState(() => () => {});\n    const [selectedLineData, setSelectedLineData] = useState([]);\n\n    useEffect(() => {\n        const handleResize = () => {\n            if (svgRef && svgRef.current) {\n                const newWidth = Math.max(minWidth, svgRef.current.parentElement.clientWidth - margin)\n                const newHeight = Math.min(maxHeight, newWidth * 1.2);\n                setWidth(newWidth);\n                setHeight(newHeight);\n            }\n        }\n\n        if (!width && !height) {\n            handleResize();\n        }\n        window.addEventListener('resize', handleResize)\n\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        }\n    }, [svgRef, margin, width, height, minWidth, maxHeight]);\n\n    useEffect(() => {\n        const newBounds = getMetricBounds(rawData);\n\n        setBounds(newBounds);\n    }, [rawData]);\n\n    useEffect(() => {\n        const svgEl = d3.select(svgRef.current);\n\n        // Get the root container\n        const newSvg = svgEl.select('#chart-wrapper')\n            .attr('transform', `translate(${margin}, 0)`);\n\n        // Add X grid lines with labels\n        const dateRangeData = showOnlyPlayoffs\n            ? rawData.filter(game => !!game.playoff)\n            : rawData;\n        const xDomain = d3.extent(dateRangeData, d => new Date(d.date));\n        const lastDate = xDomain[1].setDate(xDomain[1].getDate() + 10);\n        const xScale = d3.scaleTime()\n            .domain([xDomain[0], lastDate])\n            .range([0, width - margin]);\n        const xAxis = d3.axisBottom(xScale)\n            .ticks(d3.timeWeek, '\\'%y %b %d')\n            .tickSize(-height + margin);\n        newSvg.select('#x-axis').select('*').remove();\n        const xAxisGroup = newSvg.select('#x-axis')\n            .attr('transform', `translate(0, ${height - margin})`)\n            .call(xAxis);\n        xAxisGroup.select('.domain')\n            .attr('class', '');\n        xAxisGroup.selectAll('line')\n            .attr('class', 'text-gray-200');\n        xAxisGroup.selectAll('text')\n            .attr('class', 'text-base text-gray-500 transform -rotate-90 text-right')\n            .attr('y', -6)\n            .attr('x', -margin + 10);\n\n        // Add Y grid lines with labels\n        const yScale = d3.scaleLinear()\n            .domain(getChartBounds(stat, bounds))\n            .range([height - margin , 0]);\n        const yAxis = d3.axisLeft(yScale)\n            .ticks(5)\n            .tickPadding(20)\n            .tickSize(-width + margin);\n        newSvg.select('#y-axis').select('*').remove();\n        const yAxisGroup = newSvg.select('#y-axis').call(yAxis);\n        yAxisGroup.select('.domain').remove();\n        yAxisGroup.selectAll('line')\n            .attr('class', 'text-gray-200');\n        yAxisGroup.selectAll('text')\n            .attr('class', 'text-base text-gray-800');\n\n        const newDataLineFunc = d3.line()\n            .x(d => xScale(new Date(d.date)))\n            .y(d => yScale(getStatAttribute(stat, d)));\n\n        setScaleX(() => xScale);\n        setScaleY(() => yScale);\n        setDataLineFunc(() => newDataLineFunc);\n\n    }, [bounds, height, width, margin, rawData, stat, showOnlyPlayoffs]);\n\n    useEffect(() => {\n        if (narrativeMode && data) {\n            const gameWithHighestPostElo = Object.values(data).reduce((highestEloGame, games) => {\n                const lastGame = games[games.length - 1];\n\n                return Number(lastGame.teamPostElo) > Number(highestEloGame.teamPostElo)\n                    ? lastGame\n                    : highestEloGame;\n            }, { teamPostElo: 0 });\n\n            if (gameWithHighestPostElo && gameWithHighestPostElo.team) {\n                updateSelectedTeam(gameWithHighestPostElo.team);\n            }\n\n            if (showOnlyPlayoffs) {\n                // TODO\n            } else {\n                const annotations = regularSeasonAnnotations.filter(annotation => {\n                    return (new Date(annotation.date)) <= (new Date(maxDate));\n                })\n\n                setNarrativeAnnotationData(annotations);\n            }\n        }\n    }, [narrativeMode, data, updateSelectedTeam, maxDate, showOnlyPlayoffs])\n\n    useEffect(() => {\n        if (data) {\n            const { orderedData, selectedTeamData } = Object.entries(data).reduce(({ selectedTeamData, orderedData }, teamData) => {\n                const [teamId, teamGames] = teamData;\n\n                if (teamId === selectedTeam) {\n                    return { selectedTeamData: { team: teamId, games: teamGames }, orderedData }\n                } else {\n                    return { selectedTeamData, orderedData: orderedData.concat({ team: teamId, games: teamGames }) }\n                }\n            }, { selectedTeamData: null, orderedData: [] });\n\n            setSelectedLineData(selectedTeamData);\n            setDisplayData([...orderedData, selectedTeamData].filter(d => d));\n        }\n    }, [data, selectedTeam, narrativeMode]);\n\n    return (\n        <svg\n            className=\"w-full h-full transition-all ease-in-out\"\n            ref={svgRef}\n            width={width}\n            height={height + margin}\n        >\n            {width && height && (\n                <g id=\"chart-wrapper\">\n                    <g id=\"x-axis\" className=\"\"></g>\n                    <g id=\"y-axis\" className=\"\"></g>\n                    { displayData && (\n                        <g className=\"w-full h-full\">\n                            <Lines\n                                data={displayData}\n                                selectedTeam={selectedTeam}\n                                dataLineFunc={dataLineFunc}\n                                updateSelectedTeam={updateSelectedTeam}\n                            />\n\n                            {selectedLineData && (\n                                <DataPoints\n                                    chartHeight={height}\n                                    chartWidth={width}\n                                    data={selectedLineData.games}\n                                    narrativeMode={narrativeMode}\n                                    scaleX={scaleX}\n                                    scaleY={scaleY}\n                                    stat={stat}\n                                />\n                            )}\n\n                            {narrativeMode && narrativeAnnotationData && (\n                                <NarrativeAnnotations\n                                    scaleX={scaleX}\n                                    scaleY={scaleY}\n                                    gameData={narrativeAnnotationData}\n                                />\n                            )}\n                        </g>\n                    )}\n                </g>\n            )}\n        </svg>\n    )\n}\n\nexport default Chart;\n","import React from 'react';\n\nimport { statSelectOptions, teamSelectOptions, maxDateOptions } from '../constants';\n\nimport { getMonthLabel } from '../utils';\nimport { playoffOrder, playoffIdentifiers } from '../constants';\n\nconst Controls = (props) => {\n    const {\n        maxDate,\n        narrativeMode,\n        playoffRound,\n        selectedStat,\n        selectedTeam,\n        showOnlyPlayoffs,\n        updateMaxDate,\n        updateNarrativeMode,\n        updatePlayoffRound,\n        updateSelectedStat,\n        updateSelectedTeam,\n        updateShowOnlyPlayoffs,\n    } = props;\n\n    const nextMonth = () => {\n        const nextMonthIndex = maxDateOptions.indexOf(maxDate) + 1;\n\n        updateMaxDate(maxDateOptions[nextMonthIndex]);\n    }\n\n    const prevMonth = () => {\n        const prevMonthIndex = maxDateOptions.indexOf(maxDate) - 1;\n\n        updateMaxDate(maxDateOptions[prevMonthIndex]);\n    }\n\n    const prevRound = () => {\n        updatePlayoffRound(playoffOrder[playoffOrder.indexOf(playoffRound) - 1])\n    }\n\n    const nextRound = () => {\n        updatePlayoffRound(playoffOrder[playoffOrder.indexOf(playoffRound) + 1])\n    }\n\n    return (\n        <div className=\"lg:flex-nowrap lg:space-x-12 lg:space-y-0 flex flex-wrap items-end justify-start w-full px-16 space-y-4\">\n            <label className=\"flex flex-col space-y-2\">\n                <span className=\"text-sm font-medium text-gray-500 uppercase\">Visualization Mode</span>\n                <button\n                    className=\"nowrap flex overflow-hidden leading-tight text-gray-800 border rounded-full shadow-sm\"\n                    onClick={() => updateNarrativeMode(!narrativeMode)}\n                >\n                    <span className={`block px-3 py-2 ${narrativeMode ? 'text-white bg-green-500 shadow' : 'bg-gray-100 text-gray-400 shadow-inner'}`}>Narrative</span>\n                    <span className={`block px-3 py-2 ${narrativeMode ? 'bg-gray-100 text-gray-400 shadow-inner' : 'text-white bg-green-500 shadow'}`}>Exploratory</span>\n                </button>\n            </label>\n\n            <label className=\"flex flex-col space-y-2\">\n                <span className=\"text-sm font-medium text-gray-500 uppercase\">Show Only Playoffs</span>\n                <button\n                    className={`\n                        nowrap flex items-center w-16 p-1 overflow-hidden border rounded-full shadow-md\n                        ${showOnlyPlayoffs ? 'bg-green-500' : 'bg-gray-100'}\n                    `}\n                    onClick={() => updateShowOnlyPlayoffs(!showOnlyPlayoffs)}\n                    disabled={narrativeMode} // TODO: remove this once playoff annotations are complete & logic is done.\n                >\n                    <div className={`block w-7 h-7 rounded-full border-2\n                        ${showOnlyPlayoffs ? 'ml-auto border-white bg-white' : 'mr-auto bg-gray-50 border-gray-400'}\n                    `}></div>\n                </button>\n            </label>\n\n            {/* Normal Season Date Selector */}\n            { !showOnlyPlayoffs && (\n                <div className=\"flex-nowrap flex items-end ml-8 space-x-2\">\n                    <button\n                        className=\"disabled:cursor-not-allowed disabled:text-gray-200 h-max-content px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                        disabled={maxDateOptions.indexOf(maxDate) <= 0}\n                        onClick={prevMonth}\n                    >{`<`}</button>\n                    <label className=\"flex flex-col space-y-2\">\n                        <span className=\"text-sm font-medium text-gray-500 uppercase\">Max Date</span>\n                        <select\n                            id=\"statistic-select\"\n                            className=\"w-48 px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                            onChange={({ target }) => updateMaxDate(target.value)}\n                            value={maxDate}\n                        >\n                            <option key=\"all-option\" value={maxDateOptions[maxDateOptions.length - 1]}>Season</option>\n                            { maxDateOptions.map((option) => (\n                                <option key={option} value={option}>{getMonthLabel(option)}</option>\n                            ))}\n                        </select>\n                    </label>\n                    <button\n                        className=\"disabled:text-gray-200 disabled:cursor-not-allowed h-max-content px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                        disabled={!maxDate || maxDateOptions.indexOf(maxDate) >= maxDateOptions.length - 1}\n                        onClick={nextMonth}\n                    >{`>`}</button>\n                </div>\n            )}\n\n            {/* Playoff Selector */}\n            { showOnlyPlayoffs && !narrativeMode && (\n                <div className=\"flex-nowrap flex items-end ml-8 space-x-2\">\n                    <button\n                        className=\"disabled:cursor-not-allowed disabled:text-gray-200 h-max-content px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                        disabled={playoffOrder.indexOf(playoffRound) < 1}\n                        onClick={prevRound}\n                    >{`<`}</button>\n                    <label className=\"flex flex-col space-y-2\">\n                        <span className=\"text-sm font-medium text-gray-500 uppercase\">Playoff Round</span>\n                        <select\n                            id=\"statistic-select\"\n                            className=\"w-48 px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                            onChange={({ target }) => updatePlayoffRound(target.value)}\n                            value={playoffRound}\n                        >\n                            { playoffOrder.map((option) => (\n                                <option key={option} value={option}>{playoffIdentifiers[option]}</option>\n                            ))}\n                        </select>\n                    </label>\n                    <button\n                        className=\"disabled:text-gray-200 disabled:cursor-not-allowed h-max-content px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                        disabled={playoffOrder.indexOf(playoffRound) >= playoffOrder.length - 1}\n                        onClick={nextRound}\n                    >{`>`}</button>\n                </div>\n            )}\n\n            {!narrativeMode && (\n                <>\n                    <label className=\"flex flex-col space-y-2\">\n                        <span className=\"text-sm font-medium text-gray-500 uppercase\">Statistic</span>\n                        <select\n                            id=\"statistic-select\"\n                            className=\"disabled:cursor-not-allowed px-3 py-2 leading-tight text-gray-800 border rounded shadow cursor-pointer\"\n                            disabled={narrativeMode}\n                            onChange={({ target }) => updateSelectedStat(target.value)}\n                            value={selectedStat}\n                        >\n                            { statSelectOptions.map((team) => (\n                                <option key={team.value} value={team.value}>{team.label}</option>\n                            ))}\n                        </select>\n                    </label>\n\n                    <label className=\"flex flex-col space-y-2\">\n                        <span className=\"text-sm font-medium text-gray-500 uppercase\">Team</span>\n                        <select\n                            id=\"team-select\"\n                            className=\"disabled:cursor-not-allowed px-3 py-2 leading-tight text-gray-800 border rounded shadow\"\n                            onChange={({ target }) => updateSelectedTeam(target.value)}\n                            value={selectedTeam}\n                            disabled={narrativeMode}\n                        >\n                            <option value=''>All</option>\n                            { teamSelectOptions.map((team) => (\n                                <option key={team.value} value={team.value}>{team.label}</option>\n                            ))}\n                        </select>\n                    </label>\n                </>\n            )}\n        </div>\n    );\n}\n\nexport default Controls;\n","import React from 'react';\n\nconst Legend = () => (\n    <div className=\"flex justify-center w-full py-3\">\n        <div className=\"flex-nowrap flex space-x-4\">\n            <div className=\"flex items-center space-x-1\">\n                <div className=\"flex items-center justify-center w-3.5 h-3.5 border-2 border-green-500 rounded-full animate-pulse\">\n                    <div className=\"animate-pulse w-1.5 h-1.5 bg-green-500 rounded-full\"></div>\n                </div>\n                <span>Win</span>\n            </div>\n\n            <div className=\"flex items-center space-x-1\">\n                <div className=\"flex items-center justify-center w-3.5 h-3.5 border-2 border-red-500 rounded-full\">\n                </div>\n                <span>Loss</span>\n            </div>\n        </div>\n    </div>\n)\n\nexport default Legend;\n","import React, { useEffect, useState } from 'react';\n\nimport { teamNames } from '../constants';\nimport { getTeamMetricsForSeason } from '../utils';\nimport Chart from './Chart';\nimport Controls from './Controls';\nimport Legend from './Legend';\n\nconst Graph = (props) => {\n    const { data } = props;\n\n    // Controls State\n    const [narrativeMode, setNarrativeMode] = useState(true);\n    const [selectedStat, setSelectedStat] = useState('elo');\n    const [selectedTeam, setSelectedTeam] = useState('MIL');\n    const [maxDate, setMaxDate] = useState('2021-01');\n    const [showOnlyPlayoffs, setShowOnlyPlayoffs] = useState(false);\n    const [playoffRound, setPlayoffRound] = useState();\n\n    const [seasonByTeam, setSeasonByTeam] = useState();\n\n    const updatePlayoffControls = (showPlayoffs) => {\n        setShowOnlyPlayoffs(showPlayoffs);\n        if (showPlayoffs) {\n            setPlayoffRound('p');\n        } else {\n            setPlayoffRound(null);\n        }\n    }\n\n    const updateNarrativeMode = (narrativeMode) => {\n        if (narrativeMode) {\n            setSelectedStat('elo');\n            setSelectedTeam('');\n            setShowOnlyPlayoffs(false);\n            setPlayoffRound(null);\n        }\n\n        setNarrativeMode(narrativeMode);\n    }\n\n    useEffect(() => {\n        const byTeam = Object.keys(teamNames).reduce((acc, team) => {\n            const teamSeasonMetrics = getTeamMetricsForSeason(data, team, maxDate, showOnlyPlayoffs, playoffRound)\n            acc[team] = teamSeasonMetrics;\n\n            return acc;\n        }, {});\n\n        setSeasonByTeam(byTeam);\n    }, [data, maxDate, showOnlyPlayoffs, playoffRound]);\n\n    return (\n        <div className=\"max-w-screen-2xl flex flex-col items-center w-full p-8 mx-auto space-y-4 border rounded shadow\">\n            {/* <h2 className=\"text-lg\">Chart</h2> */}\n\n            <Controls\n                maxDate={maxDate}\n                narrativeMode={narrativeMode}\n                playoffRound={playoffRound}\n                selectedStat={selectedStat}\n                selectedTeam={selectedTeam}\n                showOnlyPlayoffs={showOnlyPlayoffs}\n                updateMaxDate={setMaxDate}\n                updateNarrativeMode={updateNarrativeMode}\n                updatePlayoffRound={setPlayoffRound}\n                updateSelectedStat={setSelectedStat}\n                updateSelectedTeam={setSelectedTeam}\n                updateShowOnlyPlayoffs={updatePlayoffControls}\n            />\n\n            <Legend />\n\n            <Chart\n                data={seasonByTeam}\n                maxDate={maxDate}\n                narrativeMode={narrativeMode}\n                rawData={data}\n                showOnlyPlayoffs={showOnlyPlayoffs}\n                stat={selectedStat}\n                selectedTeam={selectedTeam}\n                updateSelectedTeam={(newTeam) => setSelectedTeam(newTeam)}\n            />\n        </div>\n    );\n}\n\nexport default Graph;\n","import React, { useState, useEffect } from 'react';\nimport { csv } from 'd3';\n\nimport Header from './components/Header';\nimport Nav from './components/Nav';\nimport { NBA_ELO_CSV, NBA_ELO_LATEST_CSV } from './constants';\n\nimport Graph from './components/Graph';\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n\n  const getData = async (file) => {\n    const latestEloData = await csv(file);\n\n    setData(latestEloData);\n  }\n\n  useEffect(() => {\n    try {\n      getData(NBA_ELO_LATEST_CSV);\n    } catch (e) {\n      console.error(e);\n      setError(e);\n    }\n  }, []);\n\n  return (\n    <main className=\"md:px-4 lg:px-8 w-full px-2 pb-8 mx-auto\">\n      <Header />\n      <Nav />\n      <section className=\"\">\n        { error && (\n          <div>There was an error loading the data</div>\n        )}\n\n        {!error && data.length && (\n          <Graph data={data} />\n        )}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}